/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {const { FunctionalError } = __webpack_require__(/*! ./modules/errors */ 1);
const { isFunction, flatten } = __webpack_require__(/*! ./modules/utils */ 2);
const { chain, chainEnd } = __webpack_require__(/*! ./monads */ 4);
const FP = FunctionalPromises;

FP.default = FP;

Object.assign(FP.prototype,
__webpack_require__(/*! ./arrays */ 5),
__webpack_require__(/*! ./events */ 6),
__webpack_require__(/*! ./conditional */ 7),
__webpack_require__(/*! ./promise */ 8));

function FunctionalPromises(resolveRejectCB) {
  if (!(this instanceof FunctionalPromises)) {return new FunctionalPromises(resolveRejectCB);}
  if (arguments.length !== 1) throw new Error('FunctionalPromises constructor only accepts 1 callback argument');
  this._FP = {
    errors: { limit: 0, count: 0 },
    promise: new Promise(resolveRejectCB),
    concurrencyLimit: 4 };

}

FP.all = FP.prototype.all;
FP.thenIf = FP.prototype._thenIf;
FP.delay = msec => FP.resolve().delay(msec);
FP.silent = limit => FP.resolve().silent(limit);

// Monadic Methods
FP.chain = chain;
FP.prototype.chainEnd = chainEnd;
FP.reject = FP.prototype.reject;


FP.prototype.addStep = function addStep(name, args) {
  if (this.steps) this.steps.push([name, this, args]);
  return this;
};

FP.prototype.concurrency = function concurrency(limit = Infinity) {
  if (this.steps) return this.addStep('concurrency', [...arguments]);
  this._FP.concurrencyLimit = limit;
  return this;
};

FP.prototype.quiet = function quiet(errorLimit = Infinity) {
  if (this.steps) return this.addStep('quiet', [...arguments]);
  this._FP.errors = { count: 0, limit: errorLimit };
  return this;
};
FP.prototype.silent = FP.prototype.quiet;

FP.prototype.get = function get(...keyNames) {
  if (this.steps) return this.addStep('get', [...arguments]);
  keyNames = flatten(keyNames);
  return this.then(obj => {
    if (typeof obj === 'object') {
      if (keyNames.length === 1) return obj[keyNames[0]];
      return keyNames.reduce((extracted, key) => {
        extracted[key] = obj[key];
        return extracted;
      }, {});
    }
    return obj;
  });
};

FP.prototype.set = function set(keyName, value) {
  if (this.steps) return this.addStep('set', [...arguments]);
  return this.then(obj => {
    if (typeof obj === 'object') obj[keyName] = value;
    return obj;
  });
};

FP.prototype.catch = function (fn) {
  if (this.steps) return this.addStep('catch', [...arguments]);
  if (arguments.length === 2) return this.catchIf(...arguments);
  if (!isFunction(fn)) throw new FunctionalError('Invalid fn argument for `.catch(fn)`. Must be a function. Currently: ' + typeof fn);
  return FP.resolve(this._FP.promise.catch(err => fn(err)));
};

FP.prototype.catchIf = function catchIf(condition, fn) {
  if (this.steps) return this.addStep('catchIf', [...arguments]);
  if (!isFunction(fn)) throw new FunctionalError('Invalid fn argument for `.catchIf(condition, fn)`. Must be a function. Currently: ' + typeof fn);

  return FP.resolve(this._FP.promise.catch(err => {
    if (condition && err instanceof condition) return fn(err); // try re-throw, might be really slow...
    throw err;
  }));
};

FP.prototype.then = function then(fn) {
  if (this.steps) return this.addStep('then', [...arguments]);
  if (!isFunction(fn)) throw new FunctionalError('Invalid fn argument for `.then(fn)`. Must be a function. Currently: ' + typeof fn);
  return FP.resolve(this._FP.promise.then(fn));
};

FP.prototype.tap = function tap(fn) {
  if (this.steps) return this.addStep('tap', [...arguments]);
  if (!isFunction(fn)) throw new FunctionalError('Invalid fn argument for `.tap(fn)`. Must be a function. Currently: ' + typeof fn);
  return FP.resolve(this._FP.promise.then(value => fn(value) ? value : value));
};

FP.resolve = FP.prototype.resolve = function resolve(value) {
  return new FP((resolve, reject) => {
    if (value && isFunction(value.then)) return value.then(resolve).catch(reject);
    resolve(value);
  });
};

FP.promisify = function promisify(cb) {
  return (...args) => new FP((yah, nah) =>
  cb.call(this, ...args, (err, res) => err ? nah(err) : yah(res)));
};

FP.promisifyAll = function promisifyAll(obj) {
  if (!obj || !Object.getPrototypeOf(obj)) {throw new Error('Invalid Argument obj in promisifyAll(obj)');}
  return Object.getOwnPropertyNames(obj).
  filter(key => typeof obj[key] === 'function').
  reduce((obj, fnName) => {
    if (!/Sync/.test(fnName) && !obj[`${fnName}Async`]) obj[`${fnName}Async`] = FP.promisify(obj[`${fnName}`]);
    return obj;
  }, obj);
};

FP.unpack = function unpack() {
  let resolve,reject,promise = new FP((yah, nah) => {resolve = yah;reject = nah;});
  return { promise, resolve, reject };
};

module.exports = FunctionalPromises;

if (process && process.on) {
  // process.on('uncaughtException', e => console.error('FPromises: FATAL EXCEPTION: uncaughtException', e))
  process.on('unhandledRejection', e => console.error('FPromises: FATAL ERROR: unhandledRejection', e));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJGdW5jdGlvbmFsRXJyb3IiLCJyZXF1aXJlIiwiaXNGdW5jdGlvbiIsImZsYXR0ZW4iLCJjaGFpbiIsImNoYWluRW5kIiwiRlAiLCJGdW5jdGlvbmFsUHJvbWlzZXMiLCJkZWZhdWx0IiwiT2JqZWN0IiwiYXNzaWduIiwicHJvdG90eXBlIiwicmVzb2x2ZVJlamVjdENCIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiRXJyb3IiLCJfRlAiLCJlcnJvcnMiLCJsaW1pdCIsImNvdW50IiwicHJvbWlzZSIsIlByb21pc2UiLCJjb25jdXJyZW5jeUxpbWl0IiwiYWxsIiwidGhlbklmIiwiX3RoZW5JZiIsImRlbGF5IiwibXNlYyIsInJlc29sdmUiLCJzaWxlbnQiLCJyZWplY3QiLCJhZGRTdGVwIiwibmFtZSIsImFyZ3MiLCJzdGVwcyIsInB1c2giLCJjb25jdXJyZW5jeSIsIkluZmluaXR5IiwicXVpZXQiLCJlcnJvckxpbWl0IiwiZ2V0Iiwia2V5TmFtZXMiLCJ0aGVuIiwib2JqIiwicmVkdWNlIiwiZXh0cmFjdGVkIiwia2V5Iiwic2V0Iiwia2V5TmFtZSIsInZhbHVlIiwiY2F0Y2giLCJmbiIsImNhdGNoSWYiLCJlcnIiLCJjb25kaXRpb24iLCJ0YXAiLCJwcm9taXNpZnkiLCJjYiIsInlhaCIsIm5haCIsImNhbGwiLCJyZXMiLCJwcm9taXNpZnlBbGwiLCJnZXRQcm90b3R5cGVPZiIsImdldE93blByb3BlcnR5TmFtZXMiLCJmaWx0ZXIiLCJmbk5hbWUiLCJ0ZXN0IiwidW5wYWNrIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb2Nlc3MiLCJvbiIsImUiLCJjb25zb2xlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sRUFBRUEsZUFBRixLQUFzQkMsUUFBUSxrQkFBUixDQUE1QjtBQUNBLE1BQU0sRUFBRUMsVUFBRixFQUFjQyxPQUFkLEtBQTBCRixRQUFRLGlCQUFSLENBQWhDO0FBQ0EsTUFBTSxFQUFFRyxL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Q0EsU0FBTyxFQUFFdkMsT0FBRixFQUFXUSxPQUFYLEVBQW9CRSxNQUFwQixFQUFQO0FBQ0QsQ0FIRDs7QUFLQXVDLE9BQU9DLE9BQVAsR0FBaUIvRCxrQkFBakI7O0FBRUEsSUFBSWdFLFdBQVdBLFFBQVFDLEVBQXZCLEVBQTJCO0FBQ3pCO0FBQ0FELFVBQVFDLEVBQVIsQ0FBVyxvQkFBWCxFQUFpQ0MsS0FBS0MsUUFBUUMsS0FBUixDQUFjLDRDQUFkLEVBQTRERixDQUE1RCxDQUF0QztBQUNEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kbGV2eS9jb2RlL29zcy9mdW5jdGlvbmFsLXJpdmVyIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBGdW5jdGlvbmFsRXJyb3IgfSA9IHJlcXVpcmUoJy4vbW9kdWxlcy9lcnJvcnMnKVxuY29uc3QgeyBpc0Z1bmN0aW9uLCBmbGF0dGVuIH0gPSByZXF1aXJlKCcuL21vZHVsZXMvdXRpbHMnKVxuY29uc3QgeyBjaGFpbiwgY2hhaW5FbmQgfSA9IHJlcXVpcmUoJy4vbW9uYWRzJylcbmNvbnN0IEZQID0gRnVuY3Rpb25hbFByb21pc2VzXG5cbkZQLmRlZmF1bHQgPSBGUFxuXG5PYmplY3QuYXNzaWduKEZQLnByb3RvdHlwZSxcbiAgcmVxdWlyZSgnLi9hcnJheXMnKSxcbiAgcmVxdWlyZSgnLi9ldmVudHMnKSxcbiAgcmVxdWlyZSgnLi9jb25kaXRpb25hbCcpLFxuICByZXF1aXJlKCcuL3Byb21pc2UnKSlcblxuZnVuY3Rpb24gRnVuY3Rpb25hbFByb21pc2VzKHJlc29sdmVSZWplY3RDQikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb25hbFByb21pc2VzKSkgeyByZXR1cm4gbmV3IEZ1bmN0aW9uYWxQcm9taXNlcyhyZXNvbHZlUmVqZWN0Q0IpIH1cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDEpIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb25hbFByb21pc2VzIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyAxIGNhbGxiYWNrIGFyZ3VtZW50JylcbiAgdGhpcy5fRlAgPSB7XG4gICAgZXJyb3JzOiAgICAgICAgICAgeyBsaW1pdDogMCwgY291bnQ6IDAgfSxcbiAgICBwcm9taXNlOiAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlUmVqZWN0Q0IpLFxuICAgIGNvbmN1cnJlbmN5TGltaXQ6IDQsXG4gIH1cbn1cblxuRlAuYWxsID0gRlAucHJvdG90eXBlLmFsbFxuRlAudGhlbklmID0gRlAucHJvdG90eXBlLl90aGVuSWZcbkZQLmRlbGF5ID0gbXNlYyA9PiBGUC5yZXNvbHZlKCkuZGVsYXkobXNlYylcbkZQLnNpbGVudCA9IGxpbWl0ID0+IEZQLnJlc29sdmUoKS5zaWxlbnQobGltaXQpXG5cbi8vIE1vbmFkaWMgTWV0aG9kc1xuRlAuY2hhaW4gPSBjaGFpblxuRlAucHJvdG90eXBlLmNoYWluRW5kID0gY2hhaW5FbmRcbkZQLnJlamVjdCA9IEZQLnByb3RvdHlwZS5yZWplY3RcblxuXG5GUC5wcm90b3R5cGUuYWRkU3RlcCA9IGZ1bmN0aW9uIGFkZFN0ZXAobmFtZSwgYXJncykge1xuICBpZiAodGhpcy5zdGVwcykgdGhpcy5zdGVwcy5wdXNoKFtuYW1lLCB0aGlzLCBhcmdzXSlcbiAgcmV0dXJuIHRoaXNcbn1cblxuRlAucHJvdG90eXBlLmNvbmN1cnJlbmN5ID0gZnVuY3Rpb24gY29uY3VycmVuY3kobGltaXQgPSBJbmZpbml0eSkge1xuICBpZiAodGhpcy5zdGVwcykgcmV0dXJuIHRoaXMuYWRkU3RlcCgnY29uY3VycmVuY3knLCBbLi4uYXJndW1lbnRzXSlcbiAgdGhpcy5fRlAuY29uY3VycmVuY3lMaW1pdCA9IGxpbWl0XG4gIHJldHVybiB0aGlzXG59XG5cbkZQLnByb3RvdHlwZS5xdWlldCA9IGZ1bmN0aW9uIHF1aWV0KGVycm9yTGltaXQgPSBJbmZpbml0eSkge1xuICBpZiAodGhpcy5zdGVwcykgcmV0dXJuIHRoaXMuYWRkU3RlcCgncXVpZXQnLCBbLi4uYXJndW1lbnRzXSlcbiAgdGhpcy5fRlAuZXJyb3JzID0geyBjb3VudDogMCwgbGltaXQ6IGVycm9yTGltaXQgfVxuICByZXR1cm4gdGhpc1xufVxuRlAucHJvdG90eXBlLnNpbGVudCA9IEZQLnByb3RvdHlwZS5xdWlldFxuXG5GUC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0KC4uLmtleU5hbWVzKSB7XG4gIGlmICh0aGlzLnN0ZXBzKSByZXR1cm4gdGhpcy5hZGRTdGVwKCdnZXQnLCBbLi4uYXJndW1lbnRzXSlcbiAga2V5TmFtZXMgPSBmbGF0dGVuKGtleU5hbWVzKVxuICByZXR1cm4gdGhpcy50aGVuKChvYmopID0+IHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChrZXlOYW1lcy5sZW5ndGggPT09IDEpIHJldHVybiBvYmpba2V5TmFtZXNbMF1dXG4gICAgICByZXR1cm4ga2V5TmFtZXMucmVkdWNlKChleHRyYWN0ZWQsIGtleSkgPT4ge1xuICAgICAgICBleHRyYWN0ZWRba2V5XSA9IG9ialtrZXldXG4gICAgICAgIHJldHVybiBleHRyYWN0ZWRcbiAgICAgIH0sIHt9KVxuICAgIH1cbiAgICByZXR1cm4gb2JqXG4gIH0pXG59XG5cbkZQLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoa2V5TmFtZSwgdmFsdWUpIHtcbiAgaWYgKHRoaXMuc3RlcHMpIHJldHVybiB0aGlzLmFkZFN0ZXAoJ3NldCcsIFsuLi5hcmd1bWVudHNdKVxuICByZXR1cm4gdGhpcy50aGVuKG9iaiA9PiB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSBvYmpba2V5TmFtZV0gPSB2YWx1ZVxuICAgIHJldHVybiBvYmpcbiAgfSlcbn1cblxuRlAucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKGZuKSB7XG4gIGlmICh0aGlzLnN0ZXBzKSByZXR1cm4gdGhpcy5hZGRTdGVwKCdjYXRjaCcsIFsuLi5hcmd1bWVudHNdKVxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgcmV0dXJuIHRoaXMuY2F0Y2hJZiguLi5hcmd1bWVudHMpXG4gIGlmICghaXNGdW5jdGlvbihmbikpIHRocm93IG5ldyBGdW5jdGlvbmFsRXJyb3IoJ0ludmFsaWQgZm4gYXJndW1lbnQgZm9yIGAuY2F0Y2goZm4pYC4gTXVzdCBiZSBhIGZ1bmN0aW9uLiBDdXJyZW50bHk6ICcgKyB0eXBlb2YgZm4pXG4gIHJldHVybiBGUC5yZXNvbHZlKHRoaXMuX0ZQLnByb21pc2UuY2F0Y2goZXJyID0+IGZuKGVycikpKVxufVxuXG5GUC5wcm90b3R5cGUuY2F0Y2hJZiA9IGZ1bmN0aW9uIGNhdGNoSWYoY29uZGl0aW9uLCBmbikge1xuICBpZiAodGhpcy5zdGVwcykgcmV0dXJuIHRoaXMuYWRkU3RlcCgnY2F0Y2hJZicsIFsuLi5hcmd1bWVudHNdKVxuICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB0aHJvdyBuZXcgRnVuY3Rpb25hbEVycm9yKCdJbnZhbGlkIGZuIGFyZ3VtZW50IGZvciBgLmNhdGNoSWYoY29uZGl0aW9uLCBmbilgLiBNdXN0IGJlIGEgZnVuY3Rpb24uIEN1cnJlbnRseTogJyArIHR5cGVvZiBmbilcblxuICByZXR1cm4gRlAucmVzb2x2ZSh0aGlzLl9GUC5wcm9taXNlLmNhdGNoKGVyciA9PiB7XG4gICAgaWYgKGNvbmRpdGlvbiAmJiBlcnIgaW5zdGFuY2VvZiBjb25kaXRpb24pIHJldHVybiBmbihlcnIpIC8vIHRyeSByZS10aHJvdywgbWlnaHQgYmUgcmVhbGx5IHNsb3cuLi5cbiAgICB0aHJvdyBlcnJcbiAgfSkpXG59XG5cbkZQLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gdGhlbihmbikge1xuICBpZiAodGhpcy5zdGVwcykgcmV0dXJuIHRoaXMuYWRkU3RlcCgndGhlbicsIFsuLi5hcmd1bWVudHNdKVxuICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB0aHJvdyBuZXcgRnVuY3Rpb25hbEVycm9yKCdJbnZhbGlkIGZuIGFyZ3VtZW50IGZvciBgLnRoZW4oZm4pYC4gTXVzdCBiZSBhIGZ1bmN0aW9uLiBDdXJyZW50bHk6ICcgKyB0eXBlb2YgZm4pXG4gIHJldHVybiBGUC5yZXNvbHZlKHRoaXMuX0ZQLnByb21pc2UudGhlbihmbikpXG59XG5cbkZQLnByb3RvdHlwZS50YXAgPSBmdW5jdGlvbiB0YXAoZm4pIHtcbiAgaWYgKHRoaXMuc3RlcHMpIHJldHVybiB0aGlzLmFkZFN0ZXAoJ3RhcCcsIFsuLi5hcmd1bWVudHNdKVxuICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB0aHJvdyBuZXcgRnVuY3Rpb25hbEVycm9yKCdJbnZhbGlkIGZuIGFyZ3VtZW50IGZvciBgLnRhcChmbilgLiBNdXN0IGJlIGEgZnVuY3Rpb24uIEN1cnJlbnRseTogJyArIHR5cGVvZiBmbilcbiAgcmV0dXJuIEZQLnJlc29sdmUodGhpcy5fRlAucHJvbWlzZS50aGVuKHZhbHVlID0+IGZuKHZhbHVlKSA/IHZhbHVlIDogdmFsdWUpKVxufVxuXG5GUC5yZXNvbHZlID0gRlAucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gIHJldHVybiBuZXcgRlAoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmICh2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnRoZW4pKSByZXR1cm4gdmFsdWUudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpXG4gICAgcmVzb2x2ZSh2YWx1ZSlcbiAgfSlcbn1cblxuRlAucHJvbWlzaWZ5ID0gZnVuY3Rpb24gcHJvbWlzaWZ5KGNiKSB7XG4gIHJldHVybiAoLi4uYXJncykgPT4gbmV3IEZQKCh5YWgsIG5haCkgPT5cbiAgICBjYi5jYWxsKHRoaXMsIC4uLmFyZ3MsIChlcnIsIHJlcykgPT4gZXJyID8gbmFoKGVycikgOiB5YWgocmVzKSkpXG59XG5cbkZQLnByb21pc2lmeUFsbCA9IGZ1bmN0aW9uIHByb21pc2lmeUFsbChvYmopIHtcbiAgaWYgKCFvYmogfHwgIU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKSB7IHRocm93IG5ldyBFcnJvcignSW52YWxpZCBBcmd1bWVudCBvYmogaW4gcHJvbWlzaWZ5QWxsKG9iaiknKSB9XG4gIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopXG4gICAgLmZpbHRlcihrZXkgPT4gdHlwZW9mIG9ialtrZXldID09PSAnZnVuY3Rpb24nKVxuICAgIC5yZWR1Y2UoKG9iaiwgZm5OYW1lKSA9PiB7XG4gICAgICBpZiAoIS9TeW5jLy50ZXN0KGZuTmFtZSkgJiYgIW9ialtgJHtmbk5hbWV9QXN5bmNgXSkgb2JqW2Ake2ZuTmFtZX1Bc3luY2BdID0gRlAucHJvbWlzaWZ5KG9ialtgJHtmbk5hbWV9YF0pXG4gICAgICByZXR1cm4gb2JqXG4gICAgfSwgb2JqKVxufVxuXG5GUC51bnBhY2sgPSBmdW5jdGlvbiB1bnBhY2soKSB7XG4gIGxldCByZXNvbHZlLCByZWplY3QsIHByb21pc2UgPSBuZXcgRlAoKHlhaCwgbmFoKSA9PiB7IHJlc29sdmUgPSB5YWg7IHJlamVjdCA9IG5haCB9KVxuICByZXR1cm4geyBwcm9taXNlLCByZXNvbHZlLCByZWplY3QgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uYWxQcm9taXNlc1xuXG5pZiAocHJvY2VzcyAmJiBwcm9jZXNzLm9uKSB7XG4gIC8vIHByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgZSA9PiBjb25zb2xlLmVycm9yKCdGUHJvbWlzZXM6IEZBVEFMIEVYQ0VQVElPTjogdW5jYXVnaHRFeGNlcHRpb24nLCBlKSlcbiAgcHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgZSA9PiBjb25zb2xlLmVycm9yKCdGUHJvbWlzZXM6IEZBVEFMIEVSUk9SOiB1bmhhbmRsZWRSZWplY3Rpb24nLCBlKSlcbn1cbiJdfQ==
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../node_modules/process/browser.js */ 3)))

/***/ }),
/* 1 */
/*!*******************************!*\
  !*** ./src/modules/errors.js ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

class FunctionalError extends Error {
  constructor(msg, options) {
    if (typeof msg === 'object') {
      options = msg;
      if (msg.message) msg = msg.message;
    }
    super(msg);
    if (typeof options === 'object') {
      Object.getOwnPropertyNames(options).
      forEach(key => {
        this[key] = options[key];
      });
    }
    this.name = this.constructor.name;
    // Capturing stack trace, excluding constructor call from it.
    Error.captureStackTrace(this, this.constructor);
  }}

class FunctionalUserError extends FunctionalError {}
class FPUnexpectedError extends FunctionalError {}
class FPInputError extends FunctionalError {}
class FPSoftError extends FunctionalError {}
class FPTimeout extends FunctionalError {}

module.exports = {
  FunctionalError,
  FunctionalUserError,
  FPUnexpectedError,
  FPInputError,
  FPSoftError,
  FPTimeout };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGVzL2Vycm9ycy5qcyJdLCJuYW1lcyI6WyJGdW5jdGlvbmFsRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibXNnIiwib3B0aW9ucyIsIm1lc3NhZ2UiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZm9yRWFjaCIsImtleSIsIm5hbWUiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIkZ1bmN0aW9uYWxVc2VyRXJyb3IiLCJGUFVuZXhwZWN0ZWRFcnJvciIsIkZQSW5wdXRFcnJvciIsIkZQU29mdEVycm9yIiwiRlBUaW1lb3V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsZUFBTixTQUE4QkMsS0FBOUIsQ0FBb0M7QUFDbENDLGNBQVlDLEdBQVosRUFBaUJDLE9BQWpCLEVBQTBCO0FBQ3hCLFFBQUksT0FBT0QsR0FBUCxLQUFlLFFBQW5CLEVBQTZCO0FBQzNCQyxnQkFBVUQsR0FBVjtBQUNBLFVBQUtBLElBQUlFLE9BQVQsRUFBbUJGLE1BQU1BLElBQUlFLE9BQVY7QUFDcEI7QUFDRCxVQUFNRixHQUFOO0FBQ0EsUUFBSSxPQUFPQyxPQUFQLEtBQW1CLFFBQXZCLEVBQWlDO0FBQy9CRSxhQUFPQyxtQkFBUCxDQUEyQkgsT0FBM0I7QUFDR0ksYUFESCxDQUNXQyxPQUFPO0FBQ2QsYUFBS0EsR0FBTCxJQUFZTCxRQUFRSyxHQUFSLENBQVo7QUFDRCxPQUhIO0FBSUQ7QUFDRCxTQUFLQyxJQUFMLEdBQVksS0FBS1IsV0FBTCxDQUFpQlEsSUFBN0I7QUFDQTtBQUNBVCxVQUFNVSxpQkFBTixDQUF3QixJQUF4QixFQUE4QixLQUFLVCxXQUFuQztBQUNELEdBaEJpQzs7QUFrQnBDLE1BQU1VLG1CQUFOLFNBQWtDWixlQUFsQyxDQUFrRDtBQUNsRCxNQUFNYSxpQkFBTixTQUFnQ2IsZUFBaEMsQ0FBZ0Q7QUFDaEQsTUFBTWMsWUFBTixTQUEyQmQsZUFBM0IsQ0FBMkM7QUFDM0MsTUFBTWUsV0FBTixTQUEwQmYsZUFBMUIsQ0FBMEM7QUFDMUMsTUFBTWdCLFNBQU4sU0FBd0JoQixlQUF4QixDQUF3Qzs7QUFFeENpQixPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZsQixpQkFEZTtBQUVmWSxxQkFGZTtBQUdmQyxtQkFIZTtBQUlmQyxjQUplO0FBS2ZDLGFBTGU7QUFNZkMsV0FOZSxFQUFqQiIsImZpbGUiOiJlcnJvcnMuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2RsZXZ5L2NvZGUvb3NzL2Z1bmN0aW9uYWwtcml2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBGdW5jdGlvbmFsRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1zZywgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgbXNnID09PSAnb2JqZWN0Jykge1xuICAgICAgb3B0aW9ucyA9IG1zZ1xuICAgICAgaWYgKCBtc2cubWVzc2FnZSApIG1zZyA9IG1zZy5tZXNzYWdlXG4gICAgfVxuICAgIHN1cGVyKG1zZylcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvcHRpb25zKVxuICAgICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIHRoaXNba2V5XSA9IG9wdGlvbnNba2V5XVxuICAgICAgICB9KVxuICAgIH1cbiAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcbiAgICAvLyBDYXB0dXJpbmcgc3RhY2sgdHJhY2UsIGV4Y2x1ZGluZyBjb25zdHJ1Y3RvciBjYWxsIGZyb20gaXQuXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3RvcilcbiAgfVxufVxuY2xhc3MgRnVuY3Rpb25hbFVzZXJFcnJvciBleHRlbmRzIEZ1bmN0aW9uYWxFcnJvciB7fVxuY2xhc3MgRlBVbmV4cGVjdGVkRXJyb3IgZXh0ZW5kcyBGdW5jdGlvbmFsRXJyb3Ige31cbmNsYXNzIEZQSW5wdXRFcnJvciBleHRlbmRzIEZ1bmN0aW9uYWxFcnJvciB7fVxuY2xhc3MgRlBTb2Z0RXJyb3IgZXh0ZW5kcyBGdW5jdGlvbmFsRXJyb3Ige31cbmNsYXNzIEZQVGltZW91dCBleHRlbmRzIEZ1bmN0aW9uYWxFcnJvciB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgRnVuY3Rpb25hbEVycm9yLFxuICBGdW5jdGlvbmFsVXNlckVycm9yLFxuICBGUFVuZXhwZWN0ZWRFcnJvcixcbiAgRlBJbnB1dEVycm9yLFxuICBGUFNvZnRFcnJvcixcbiAgRlBUaW1lb3V0LFxufVxuIl19

/***/ }),
/* 2 */
/*!******************************!*\
  !*** ./src/modules/utils.js ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

const utils = module.exports = {
  isPromiseLike(p) {return p && typeof p.then === 'function';},

  isFunction(fn) {return typeof fn === 'function';},

  isEnumerable(list) {return list && Array.isArray(list) || typeof list[Symbol.iterator] === 'function';},

  flatten(arr) {
    if (!Array.isArray(arr)) throw new Error('Method `flatten` requires valid array parameter');
    return arr.reduce((results, item) => results.concat(Array.isArray(item) ? utils.flatten(item) : [item]), []);
  } };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGVzL3V0aWxzLmpzIl0sIm5hbWVzIjpbInV0aWxzIiwibW9kdWxlIiwiZXhwb3J0cyIsImlzUHJvbWlzZUxpa2UiLCJwIiwidGhlbiIsImlzRnVuY3Rpb24iLCJmbiIsImlzRW51bWVyYWJsZSIsImxpc3QiLCJBcnJheSIsImlzQXJyYXkiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZsYXR0ZW4iLCJhcnIiLCJFcnJvciIsInJlZHVjZSIsInJlc3VsdHMiLCJpdGVtIiwiY29uY2F0Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRQyxPQUFPQyxPQUFQLEdBQWlCO0FBQzdCQyxnQkFBY0MsQ0FBZCxFQUFpQixDQUFFLE9BQU9BLEtBQUssT0FBT0EsRUFBRUMsSUFBVCxLQUFrQixVQUE5QixDQUEwQyxDQURoQzs7QUFHN0JDLGFBQVdDLEVBQVgsRUFBZSxDQUFFLE9BQU8sT0FBT0EsRUFBUCxLQUFjLFVBQXJCLENBQWlDLENBSHJCOztBQUs3QkMsZUFBYUMsSUFBYixFQUFtQixDQUFFLE9BQU9BLFFBQVFDLE1BQU1DLE9BQU4sQ0FBY0YsSUFBZCxDQUFSLElBQStCLE9BQU9BLEtBQUtHLE9BQU9DLFFBQVosQ0FBUCxLQUFpQyxVQUF2RSxDQUFtRixDQUwzRTs7QUFPN0JDLFVBQVFDLEdBQVIsRUFBYTtBQUNYLFFBQUksQ0FBQ0wsTUFBTUMsT0FBTixDQUFjSSxHQUFkLENBQUwsRUFBeUIsTUFBTSxJQUFJQyxLQUFKLENBQVUsaURBQVYsQ0FBTjtBQUN6QixXQUFPRCxJQUFJRSxNQUFKLENBQVcsQ0FBQ0MsT0FBRCxFQUFVQyxJQUFWLEtBQW1CRCxRQUFRRSxNQUFSLENBQWVWLE1BQU1DLE9BQU4sQ0FBY1EsSUFBZCxJQUFzQm5CLE1BQU1jLE9BQU4sQ0FBY0ssSUFBZCxDQUF0QixHQUE0QyxDQUFDQSxJQUFELENBQTNELENBQTlCLEVBQWtHLEVBQWxHLENBQVA7QUFDRCxHQVY0QixFQUEvQiIsImZpbGUiOiJ1dGlscy5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvZGxldnkvY29kZS9vc3MvZnVuY3Rpb25hbC1yaXZlciIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHV0aWxzID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzUHJvbWlzZUxpa2UocCkgeyByZXR1cm4gcCAmJiB0eXBlb2YgcC50aGVuID09PSAnZnVuY3Rpb24nIH0sXG5cbiAgaXNGdW5jdGlvbihmbikgeyByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nIH0sXG5cbiAgaXNFbnVtZXJhYmxlKGxpc3QpIHsgcmV0dXJuIGxpc3QgJiYgQXJyYXkuaXNBcnJheShsaXN0KSB8fCB0eXBlb2YgbGlzdFtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nIH0sXG5cbiAgZmxhdHRlbihhcnIpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyKSkgdGhyb3cgbmV3IEVycm9yKCdNZXRob2QgYGZsYXR0ZW5gIHJlcXVpcmVzIHZhbGlkIGFycmF5IHBhcmFtZXRlcicpXG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKHJlc3VsdHMsIGl0ZW0pID0+IHJlc3VsdHMuY29uY2F0KEFycmF5LmlzQXJyYXkoaXRlbSkgPyB1dGlscy5mbGF0dGVuKGl0ZW0pIDogW2l0ZW1dKSwgW10pXG4gIH1cbn1cbiJdfQ==

/***/ }),
/* 3 */
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout() {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
})();
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) {return [];};

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () {return '/';};
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function () {return 0;};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiXSwibmFtZXMiOlsicHJvY2VzcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJlIiwiY2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhbGwiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJxdWV1ZSIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImxlbmd0aCIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibmV4dFRpY2siLCJhcmdzIiwiQXJyYXkiLCJhcmd1bWVudHMiLCJpIiwicHVzaCIsIkl0ZW0iLCJhcnJheSIsInByb3RvdHlwZSIsImFwcGx5IiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm5vb3AiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJuYW1lIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSUEsVUFBVUMsT0FBT0MsT0FBUCxHQUFpQixFQUEvQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJQyxnQkFBSjtBQUNBLElBQUlDLGtCQUFKOztBQUVBLFNBQVNDLGdCQUFULEdBQTRCO0FBQ3hCLFVBQU0sSUFBSUMsS0FBSixDQUFVLGlDQUFWLENBQU47QUFDSDtBQUNELFNBQVNDLG1C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VixFQUFlO0FBQzNCLFVBQU0sSUFBSXBELEtBQUosQ0FBVSxnQ0FBVixDQUFOO0FBQ0gsQ0FGRDtBQUdBTixRQUFRMkQsS0FBUixHQUFnQixZQUFXLENBQUUsT0FBTyxDQUFQLENBQVcsQ0FBeEMiLCJmaWxlIjoiYnJvd3Nlci5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvZGxldnkvY29kZS9vc3MvZnVuY3Rpb25hbC1yaXZlciIsInNvdXJjZXNDb250ZW50IjpbIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iXX0=

/***/ }),
/* 4 */
/*!***********************!*\
  !*** ./src/monads.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

const { FPInputError } = __webpack_require__(/*! ./modules/errors */ 1);

module.exports = { chain, chainEnd


  /**
                                    * Start 'recording' a chain of commands, after steps defined call `.chainEnd()`
                                    * @returns FunctionalPromise
                                    */ };
function chain() {
  const FP = __webpack_require__(/*! ./index */ 0);
  // create a placeholder/initial promise to hold the steps/chain data
  const promise = FP.resolve();
  promise.steps = [];
  return promise;
}

/**
   * Call after starting a `.chain()`.
   *
   * One of the few non-chainable methods in the API.
   * @returns a Function. It runs your functional chain!
   */
function chainEnd() {
  const FP = __webpack_require__(/*! ./index */ 0);

  return input => {
    if (!this.steps || this.steps.length <= 0) throw new FPInputError('No steps defined between .chain() & .chainEnd()');
    let stepCount = 0;
    let { promise, resolve, reject } = FP.unpack();
    while (stepCount < this.steps.length) {
      const [fnName,, args] = this.steps[stepCount];
      promise = promise[fnName](...args);
      stepCount++;
    }
    resolve(input);
    return promise;
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb25hZHMuanMiXSwibmFtZXMiOlsiRlBJbnB1dEVycm9yIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJjaGFpbiIsImNoYWluRW5kIiwiRlAiLCJwcm9taXNlIiwicmVzb2x2ZSIsInN0ZXBzIiwiaW5wdXQiLCJsZW5ndGgiLCJzdGVwQ291bnQiLCJyZWplY3QiLCJ1bnBhY2siLCJmbk5hbWUiLCJhcmdzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLEVBQUVBLFlBQUYsS0FBbUJDLFFBQVEsa0JBQVIsQ0FBekI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUIsRUFBRUMsS0FBRixFQUFTQzs7O0FBRzFCOzs7c0NBSGlCLEVBQWpCO0FBT0EsU0FBU0QsS0FBVCxHQUFpQjtBQUNmLFFBQU1FLEtBQUtMLFFBQVEsU0FBUixDQUFYO0FBQ0E7QUFDQSxRQUFNTSxVQUFVRCxHQUFHRSxPQUFILEVBQWhCO0FBQ0FELFVBQVFFLEtBQVIsR0FBZ0IsRUFBaEI7QUFDQSxTQUFPRixPQUFQO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1BLFNBQVNGLFFBQVQsR0FBb0I7QUFDbEIsUUFBTUMsS0FBS0wsUUFBUSxTQUFSLENBQVg7O0FBRUEsU0FBT1MsU0FBUztBQUNkLFFBQUksQ0FBQyxLQUFLRCxLQUFOLElBQWUsS0FBS0EsS0FBTCxDQUFXRSxNQUFYLElBQXFCLENBQXhDLEVBQTJDLE1BQU0sSUFBSVgsWUFBSixDQUFpQixpREFBakIsQ0FBTjtBQUMzQyxRQUFJWSxZQUFZLENBQWhCO0FBQ0EsUUFBSSxFQUFDTCxPQUFELEVBQVVDLE9BQVYsRUFBbUJLLE1BQW5CLEtBQTZCUCxHQUFHUSxNQUFILEVBQWpDO0FBQ0EsV0FBT0YsWUFBWSxLQUFLSCxLQUFMLENBQVdFLE1BQTlCLEVBQXNDO0FBQ3BDLFlBQU0sQ0FBQ0ksTUFBRCxHQUFXQyxJQUFYLElBQW1CLEtBQUtQLEtBQUwsQ0FBV0csU0FBWCxDQUF6QjtBQUNBTCxnQkFBVUEsUUFBUVEsTUFBUixFQUFnQixHQUFHQyxJQUFuQixDQUFWO0FBQ0FKO0FBQ0Q7QUFDREosWUFBUUUsS0FBUjtBQUNBLFdBQU9ILE9BQVA7QUFDRCxHQVhEO0FBWUQiLCJmaWxlIjoibW9uYWRzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kbGV2eS9jb2RlL29zcy9mdW5jdGlvbmFsLXJpdmVyIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBGUElucHV0RXJyb3IgfSA9IHJlcXVpcmUoJy4vbW9kdWxlcy9lcnJvcnMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgY2hhaW4sIGNoYWluRW5kIH1cblxuXG4vKipcbiAqIFN0YXJ0ICdyZWNvcmRpbmcnIGEgY2hhaW4gb2YgY29tbWFuZHMsIGFmdGVyIHN0ZXBzIGRlZmluZWQgY2FsbCBgLmNoYWluRW5kKClgXG4gKiBAcmV0dXJucyBGdW5jdGlvbmFsUHJvbWlzZVxuICovXG5mdW5jdGlvbiBjaGFpbigpIHtcbiAgY29uc3QgRlAgPSByZXF1aXJlKCcuL2luZGV4JylcbiAgLy8gY3JlYXRlIGEgcGxhY2Vob2xkZXIvaW5pdGlhbCBwcm9taXNlIHRvIGhvbGQgdGhlIHN0ZXBzL2NoYWluIGRhdGFcbiAgY29uc3QgcHJvbWlzZSA9IEZQLnJlc29sdmUoKVxuICBwcm9taXNlLnN0ZXBzID0gW11cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuLyoqXG4gKiBDYWxsIGFmdGVyIHN0YXJ0aW5nIGEgYC5jaGFpbigpYC5cbiAqXG4gKiBPbmUgb2YgdGhlIGZldyBub24tY2hhaW5hYmxlIG1ldGhvZHMgaW4gdGhlIEFQSS5cbiAqIEByZXR1cm5zIGEgRnVuY3Rpb24uIEl0IHJ1bnMgeW91ciBmdW5jdGlvbmFsIGNoYWluIVxuICovXG5mdW5jdGlvbiBjaGFpbkVuZCgpIHtcbiAgY29uc3QgRlAgPSByZXF1aXJlKCcuL2luZGV4JylcblxuICByZXR1cm4gaW5wdXQgPT4ge1xuICAgIGlmICghdGhpcy5zdGVwcyB8fCB0aGlzLnN0ZXBzLmxlbmd0aCA8PSAwKSB0aHJvdyBuZXcgRlBJbnB1dEVycm9yKCdObyBzdGVwcyBkZWZpbmVkIGJldHdlZW4gLmNoYWluKCkgJiAuY2hhaW5FbmQoKScpXG4gICAgbGV0IHN0ZXBDb3VudCA9IDBcbiAgICBsZXQge3Byb21pc2UsIHJlc29sdmUsIHJlamVjdH0gPSBGUC51bnBhY2soKVxuICAgIHdoaWxlIChzdGVwQ291bnQgPCB0aGlzLnN0ZXBzLmxlbmd0aCkge1xuICAgICAgY29uc3QgW2ZuTmFtZSwgLCBhcmdzXSA9IHRoaXMuc3RlcHNbc3RlcENvdW50XVxuICAgICAgcHJvbWlzZSA9IHByb21pc2VbZm5OYW1lXSguLi5hcmdzKVxuICAgICAgc3RlcENvdW50KytcbiAgICB9XG4gICAgcmVzb2x2ZShpbnB1dClcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG59XG4iXX0=

/***/ }),
/* 5 */
/*!***********************!*\
  !*** ./src/arrays.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

const { isEnumerable } = __webpack_require__(/*! ./modules/utils */ 2);
const { FPInputError, FunctionalError } = __webpack_require__(/*! ./modules/errors */ 1);

module.exports = { map, find, findIndex, filter, reduce };

function find(callback) {return _find.call(this, callback).then(({ item }) => item);}
function findIndex(callback) {return _find.call(this, callback).then(({ index }) => index);}

function _find(iterable, callback) {
  const FP = __webpack_require__(/*! ./index */ 0);
  if (this.steps) return this.addStep('_find', [...arguments]);
  if (typeof iterable === 'function') {
    callback = iterable;
    iterable = this._FP.promise;
  }

  return FP.resolve(iterable).
  filter(callback).
  then(results => results[0] != undefined ? { item: results[0], index: results.indexOf(results[0]) } : { item: undefined, index: -1 });
}

function filter(iterable, callback) {
  if (this.steps) return this.addStep('filter', [...arguments]);
  if (typeof iterable === 'function') {
    callback = iterable;
    iterable = this._FP.promise;
  }

  return reduce(iterable, (acc, item) => Promise.resolve(callback(item)).then(x => x ? acc.concat([item]) : acc), []);
}

function reduce(iterable, reducer, initVal) {
  const FP = __webpack_require__(/*! ./index */ 0);
  if (this.steps) return this.addStep('reduce', [...arguments]);
  if (typeof iterable === 'function') {
    initVal = reducer;
    reducer = iterable;
    iterable = this._FP ? this._FP.promise : this;
  } else iterable = FP.resolve(iterable, this);

  return new FP((resolve, reject) => {
    return iterable.then(iterable => {
      const iterator = iterable[Symbol.iterator]();
      let i = 0;

      const next = total => {
        const current = iterator.next();
        if (current.done) return resolve(total);

        Promise.all([total, current.value]).
        then(([total, item]) => next(reducer(total, item, i++))).catch(reject);
      };

      next(initVal);
    });
  });
}

/*eslint max-statements: ["error", 60]*/
function map(args, fn, options) {
  const FP = __webpack_require__(/*! ./index */ 0);
  if (this.steps) return this.addStep('map', [...arguments]);
  if (arguments.length === 1 && this && this._FP) {
    fn = args;
    args = this && this._FP && this._FP.promise;
  }
  let resolvedOrRejected = false;
  const threadLimit = Math.max(1, Math.min(this && this._FP && this._FP.concurrencyLimit || 1, 4));
  const innerValues = this && this._FP && this._FP.promise ? this._FP.promise : Promise.resolve(args);
  let initialThread = 0;
  let errors = [];
  let count = 0;
  const results = [];
  const threadPool = new Set();
  const threadPoolFull = () => threadPool.size >= threadLimit;
  const isDone = () => errors.length > this._FP.errors.limit || count >= args.length || resolvedOrRejected;
  const setResult = index => value => {
    threadPool.delete(index);
    results[index] = value;
    return value;
  };
  return FP.resolve(new Promise((resolve, reject) => {
    const resolveIt = x => {
      // console.log('Action.resolve:', resolvedOrRejected, x)
      if (resolvedOrRejected) {return null;} else {resolvedOrRejected = true;}
      resolve(x);
    };
    const rejectIt = x => {
      if (resolvedOrRejected) {return null;} else {resolvedOrRejected = true;}
      // console.log('Action.reject:', resolvedOrRejected, x)
      reject(x);
    };
    innerValues.then(items => {
      args = [...items];
      if (!isEnumerable(items)) return reject(new FPInputError('Invalid input data passed into FP.map()'));
      const complete = () => {
        let action = null;
        if (errors.length > this._FP.errors.limit) action = rejectIt;
        if (isDone()) action = resolveIt;
        if (action) return Promise.all(results).then(data => action(results)) ? true : true;
        return false;
      };
      const checkAndRun = val => {
        // console.log('checkAndRun', count, resolvedOrRejected, val)
        if (resolvedOrRejected) return;
        if (!complete() && !results[count]) runItem(count);
        return val;
      };

      const runItem = c => {
        if (resolvedOrRejected) {return null;} else {count++;}
        if (threadPoolFull()) return setTimeout(() => runItem(c), 0);
        if (results[c]) return results[c];
        threadPool.add(c);
        // either get value with `fn(item)` or `item.then(fn)`
        results[c] = Promise.resolve(args[c]).
        then(val => fn(val, c, args)).
        then(val => setResult(c)(val)).
        then(checkAndRun).
        catch(err => {
          this._FP.errors.count++;
          errors.push(err);
          // console.log('ERR HANDLER!', errors.length, this._FP.errors.limit)
          if (errors.length > this._FP.errors.limit) {
            const fpErr = errors.length === 1 ? err : new FunctionalError(`Error Limit ${this._FP.errors.limit} Exceeded.
              idx=${c} errCnt=${this._FP.errors.count}`, { errors, results, ctx: this });
            Promise.resolve(setResult(c)(err)).then(() => rejectIt(fpErr));
          } else {// console.warn('Error OK:', JSON.stringify(this._FP.errors))
            return Promise.resolve().then(() => setResult(c)(err)).then(checkAndRun);
          }
        });

        return results[c];
      };

      // Kick off x number of initial threads
      while (initialThread < threadLimit && initialThread < args.length) runItem(initialThread++);
    });
  }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcnJheXMuanMiXSwibmFtZXMiOlsiaXNFbnVtZXJhYmxlIiwicmVxdWlyZSIsIkZQSW5wdXRFcnJvciIsIkZ1bmN0aW9uYWxFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJtYXAiLCJmaW5kIiwiZmluZEluZGV4IiwiZmlsdGVyIiwicmVkdWNlIiwiY2FsbGJhY2siLCJfZmluZCIsImNhbGwiLCJ0aGVuIiwiaXRlbSIsImluZGV4IiwiaXRlcmFibGUiLCJGUCIsInN0ZXBzIiwiYWRkU3RlcCIsImFyZ3VtZW50cyIsIl9GUCIsInByb21pc2UiLCJyZXNvbHZlIiwicmVzdWx0cyIsInVuZGVmaW5lZCIsImluZGV4T2YiLCJhY2MiLCJQcm9taXNlIiwieCIsImNvbmNhdCIsInJlZHVjZXIiLCJpbml0VmFsIiwicmVqZWN0IiwiaXRlcmF0b3IiLCJTeW1ib2wiLCJpIiwibmV4dCIsInRvdGFsIiwiY3VycmVudCIsImRvbmUiLCJhbGwiLCJ2YWx1ZSIsImNhdGNoIiwiYXJncyIsImZuIiwib3B0aW9ucyIsImxlbmd0aCIsInJlc29sdmVkT3JSZWplY3RlZCIsInRocmVhZExpbWl0IiwiTWF0aCIsIm1heCIsIm1pbiIsImNvbmN1cnJlbmN5TGltaXQiLCJpbm5lclZhbHVlcyIsImluaXRpYWxUaHJlYWQiLCJlcnJvcnMiLCJjb3VudCIsInRocmVhZFBvb2wiLCJTZXQiLCJ0aHJlYWRQb29sRnVsbCIsInNpemUiLCJpc0RvbmUiLCJsaW1pdCIsInNldFJlc3VsdCIsImRlbGV0ZSIsInJlc29sdmVJdCIsInJlamVjdEl0IiwiaXRlbXMiLCJjb21wbGV0ZSIsImFjdGlvbiIsImRhdGEiLCJjaGVja0FuZFJ1biIsInZhbCIsInJ1bkl0ZW0iLCJjIiwic2V0VGltZW91dCIsImFkZCIsImVyciIsInB1c2giLCJmcEVyciIsImN0eCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxFQUFFQSxZQUFGLEtBQW1CQyxRQUFRLGlCQUFSLENBQXpCO0FBQ0EsTUFBTSxFQUFF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Q0FBcUQyRCxXQUFyRCxDQUFQO0FBQ0Q7QUFDRixTQWZVLENBQWI7O0FBaUJBLGVBQU9oRCxRQUFRbUQsQ0FBUixDQUFQO0FBQ0QsT0F4QkQ7O0FBMEJBO0FBQ0EsYUFBT3BCLGdCQUFnQk4sV0FBaEIsSUFBK0JNLGdCQUFnQlgsS0FBS0csTUFBM0QsRUFBbUUyQixRQUFRbkIsZUFBUjtBQUNwRSxLQTdDRDtBQThDRCxHQXpEaUIsQ0FBWCxDQUFQO0FBMEREIiwiZmlsZSI6ImFycmF5cy5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvZGxldnkvY29kZS9vc3MvZnVuY3Rpb25hbC1yaXZlciIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgaXNFbnVtZXJhYmxlIH0gPSByZXF1aXJlKCcuL21vZHVsZXMvdXRpbHMnKVxuY29uc3QgeyBGUElucHV0RXJyb3IsIEZ1bmN0aW9uYWxFcnJvciB9ID0gcmVxdWlyZSgnLi9tb2R1bGVzL2Vycm9ycycpXG5cbm1vZHVsZS5leHBvcnRzID0geyBtYXAsIGZpbmQsIGZpbmRJbmRleCwgZmlsdGVyLCByZWR1Y2UgfVxuXG5mdW5jdGlvbiBmaW5kKGNhbGxiYWNrKSB7IHJldHVybiBfZmluZC5jYWxsKHRoaXMsIGNhbGxiYWNrKS50aGVuKCh7IGl0ZW0gfSkgPT4gaXRlbSkgfVxuZnVuY3Rpb24gZmluZEluZGV4KGNhbGxiYWNrKSB7IHJldHVybiBfZmluZC5jYWxsKHRoaXMsIGNhbGxiYWNrKS50aGVuKCh7IGluZGV4IH0pID0+IGluZGV4KSB9XG5cbmZ1bmN0aW9uIF9maW5kKGl0ZXJhYmxlLCBjYWxsYmFjaykge1xuICBjb25zdCBGUCA9IHJlcXVpcmUoJy4vaW5kZXgnKVxuICBpZiAodGhpcy5zdGVwcykgcmV0dXJuIHRoaXMuYWRkU3RlcCgnX2ZpbmQnLCBbLi4uYXJndW1lbnRzXSlcbiAgaWYgKHR5cGVvZiBpdGVyYWJsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gaXRlcmFibGVcbiAgICBpdGVyYWJsZSA9IHRoaXMuX0ZQLnByb21pc2VcbiAgfVxuXG4gIHJldHVybiBGUC5yZXNvbHZlKGl0ZXJhYmxlKVxuICAgIC5maWx0ZXIoY2FsbGJhY2spXG4gICAgLnRoZW4oKHJlc3VsdHMpID0+IHJlc3VsdHNbMF0gIT0gdW5kZWZpbmVkID8geyBpdGVtOiByZXN1bHRzWzBdLCBpbmRleDogcmVzdWx0cy5pbmRleE9mKHJlc3VsdHNbMF0pIH0gOiB7IGl0ZW06IHVuZGVmaW5lZCwgaW5kZXg6IC0xIH0pXG59XG5cbmZ1bmN0aW9uIGZpbHRlcihpdGVyYWJsZSwgY2FsbGJhY2spIHtcbiAgaWYgKHRoaXMuc3RlcHMpIHJldHVybiB0aGlzLmFkZFN0ZXAoJ2ZpbHRlcicsIFsuLi5hcmd1bWVudHNdKVxuICBpZiAodHlwZW9mIGl0ZXJhYmxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBpdGVyYWJsZVxuICAgIGl0ZXJhYmxlID0gdGhpcy5fRlAucHJvbWlzZVxuICB9XG5cbiAgcmV0dXJuIHJlZHVjZShpdGVyYWJsZSwgKGFjYywgaXRlbSkgPT4gUHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrKGl0ZW0pKS50aGVuKHggPT4gKHggPyBhY2MuY29uY2F0KFtpdGVtXSkgOiBhY2MpKSwgW10pXG59XG5cbmZ1bmN0aW9uIHJlZHVjZShpdGVyYWJsZSwgcmVkdWNlciwgaW5pdFZhbCkge1xuICBjb25zdCBGUCA9IHJlcXVpcmUoJy4vaW5kZXgnKVxuICBpZiAodGhpcy5zdGVwcykgcmV0dXJuIHRoaXMuYWRkU3RlcCgncmVkdWNlJywgWy4uLmFyZ3VtZW50c10pXG4gIGlmICh0eXBlb2YgaXRlcmFibGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpbml0VmFsID0gcmVkdWNlclxuICAgIHJlZHVjZXIgPSBpdGVyYWJsZVxuICAgIGl0ZXJhYmxlID0gdGhpcy5fRlAgPyB0aGlzLl9GUC5wcm9taXNlIDogdGhpc1xuICB9IGVsc2UgaXRlcmFibGUgPSBGUC5yZXNvbHZlKGl0ZXJhYmxlLCB0aGlzKVxuXG4gIHJldHVybiBuZXcgRlAoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJldHVybiBpdGVyYWJsZS50aGVuKGl0ZXJhYmxlID0+IHtcbiAgICAgIGNvbnN0IGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpXG4gICAgICBsZXQgaSA9IDBcblxuICAgICAgY29uc3QgbmV4dCA9IHRvdGFsID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGl0ZXJhdG9yLm5leHQoKVxuICAgICAgICBpZiAoY3VycmVudC5kb25lKSByZXR1cm4gcmVzb2x2ZSh0b3RhbClcblxuICAgICAgICBQcm9taXNlLmFsbChbdG90YWwsIGN1cnJlbnQudmFsdWVdKVxuICAgICAgICAgIC50aGVuKChbdG90YWwsIGl0ZW1dKSA9PiBuZXh0KHJlZHVjZXIodG90YWwsIGl0ZW0sIGkrKykpKS5jYXRjaChyZWplY3QpXG4gICAgICB9XG5cbiAgICAgIG5leHQoaW5pdFZhbClcbiAgICB9KVxuICB9KVxufVxuXG4vKmVzbGludCBtYXgtc3RhdGVtZW50czogW1wiZXJyb3JcIiwgNjBdKi9cbmZ1bmN0aW9uIG1hcChhcmdzLCBmbiwgb3B0aW9ucykge1xuICBjb25zdCBGUCA9IHJlcXVpcmUoJy4vaW5kZXgnKVxuICBpZiAodGhpcy5zdGVwcykgcmV0dXJuIHRoaXMuYWRkU3RlcCgnbWFwJywgWy4uLmFyZ3VtZW50c10pXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHRoaXMgJiYgdGhpcy5fRlApIHtcbiAgICBmbiA9IGFyZ3NcbiAgICBhcmdzID0gdGhpcyAmJiB0aGlzLl9GUCAmJiB0aGlzLl9GUC5wcm9taXNlXG4gIH1cbiAgbGV0IHJlc29sdmVkT3JSZWplY3RlZCA9IGZhbHNlXG4gIGNvbnN0IHRocmVhZExpbWl0ID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oKHRoaXMgJiYgdGhpcy5fRlAgJiYgdGhpcy5fRlAuY29uY3VycmVuY3lMaW1pdCkgfHwgMSwgNCkpXG4gIGNvbnN0IGlubmVyVmFsdWVzID0gdGhpcyAmJiB0aGlzLl9GUCAmJiB0aGlzLl9GUC5wcm9taXNlID8gdGhpcy5fRlAucHJvbWlzZSA6IFByb21pc2UucmVzb2x2ZShhcmdzKVxuICBsZXQgaW5pdGlhbFRocmVhZCA9IDBcbiAgbGV0IGVycm9ycyA9IFtdXG4gIGxldCBjb3VudCA9IDBcbiAgY29uc3QgcmVzdWx0cyA9IFtdXG4gIGNvbnN0IHRocmVhZFBvb2wgPSBuZXcgU2V0KClcbiAgY29uc3QgdGhyZWFkUG9vbEZ1bGwgPSAoKSA9PiB0aHJlYWRQb29sLnNpemUgPj0gdGhyZWFkTGltaXRcbiAgY29uc3QgaXNEb25lID0gKCkgPT4gZXJyb3JzLmxlbmd0aCA+IHRoaXMuX0ZQLmVycm9ycy5saW1pdCB8fCBjb3VudCA+PSBhcmdzLmxlbmd0aCB8fCByZXNvbHZlZE9yUmVqZWN0ZWRcbiAgY29uc3Qgc2V0UmVzdWx0ID0gaW5kZXggPT4gdmFsdWUgPT4ge1xuICAgIHRocmVhZFBvb2wuZGVsZXRlKGluZGV4KVxuICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWVcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuICByZXR1cm4gRlAucmVzb2x2ZShuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZUl0ID0geCA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnQWN0aW9uLnJlc29sdmU6JywgcmVzb2x2ZWRPclJlamVjdGVkLCB4KVxuICAgICAgaWYgKHJlc29sdmVkT3JSZWplY3RlZCkgeyByZXR1cm4gbnVsbCB9IGVsc2UgeyByZXNvbHZlZE9yUmVqZWN0ZWQgPSB0cnVlIH1cbiAgICAgIHJlc29sdmUoeClcbiAgICB9XG4gICAgY29uc3QgcmVqZWN0SXQgPSB4ID0+IHtcbiAgICAgIGlmIChyZXNvbHZlZE9yUmVqZWN0ZWQpIHsgcmV0dXJuIG51bGwgfSBlbHNlIHsgcmVzb2x2ZWRPclJlamVjdGVkID0gdHJ1ZSB9XG4gICAgICAvLyBjb25zb2xlLmxvZygnQWN0aW9uLnJlamVjdDonLCByZXNvbHZlZE9yUmVqZWN0ZWQsIHgpXG4gICAgICByZWplY3QoeClcbiAgICB9XG4gICAgaW5uZXJWYWx1ZXMudGhlbihpdGVtcyA9PiB7XG4gICAgICBhcmdzID0gWy4uLml0ZW1zXVxuICAgICAgaWYgKCFpc0VudW1lcmFibGUoaXRlbXMpKSByZXR1cm4gcmVqZWN0KG5ldyBGUElucHV0RXJyb3IoJ0ludmFsaWQgaW5wdXQgZGF0YSBwYXNzZWQgaW50byBGUC5tYXAoKScpKVxuICAgICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgIGxldCBhY3Rpb24gPSBudWxsXG4gICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gdGhpcy5fRlAuZXJyb3JzLmxpbWl0KSBhY3Rpb24gPSByZWplY3RJdFxuICAgICAgICBpZiAoaXNEb25lKCkpIGFjdGlvbiA9IHJlc29sdmVJdFxuICAgICAgICBpZiAoYWN0aW9uKSByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cykudGhlbihkYXRhID0+IGFjdGlvbihyZXN1bHRzKSkgPyB0cnVlIDogdHJ1ZVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoZWNrQW5kUnVuID0gdmFsID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NoZWNrQW5kUnVuJywgY291bnQsIHJlc29sdmVkT3JSZWplY3RlZCwgdmFsKVxuICAgICAgICBpZiAocmVzb2x2ZWRPclJlamVjdGVkKSByZXR1cm5cbiAgICAgICAgaWYgKCFjb21wbGV0ZSgpICYmICFyZXN1bHRzW2NvdW50XSkgcnVuSXRlbShjb3VudClcbiAgICAgICAgcmV0dXJuIHZhbFxuICAgICAgfVxuXG4gICAgICBjb25zdCBydW5JdGVtID0gYyA9PiB7XG4gICAgICAgIGlmIChyZXNvbHZlZE9yUmVqZWN0ZWQpIHtyZXR1cm4gbnVsbH0gZWxzZSB7Y291bnQrK31cbiAgICAgICAgaWYgKHRocmVhZFBvb2xGdWxsKCkpIHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHJ1bkl0ZW0oYyksIDApXG4gICAgICAgIGlmIChyZXN1bHRzW2NdKSByZXR1cm4gcmVzdWx0c1tjXVxuICAgICAgICB0aHJlYWRQb29sLmFkZChjKVxuICAgICAgICAvLyBlaXRoZXIgZ2V0IHZhbHVlIHdpdGggYGZuKGl0ZW0pYCBvciBgaXRlbS50aGVuKGZuKWBcbiAgICAgICAgcmVzdWx0c1tjXSA9IFByb21pc2UucmVzb2x2ZShhcmdzW2NdKVxuICAgICAgICAgIC50aGVuKHZhbCA9PiBmbih2YWwsIGMsIGFyZ3MpKVxuICAgICAgICAgIC50aGVuKHZhbCA9PiBzZXRSZXN1bHQoYykodmFsKSlcbiAgICAgICAgICAudGhlbihjaGVja0FuZFJ1bilcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHRoaXMuX0ZQLmVycm9ycy5jb3VudCsrXG4gICAgICAgICAgICBlcnJvcnMucHVzaChlcnIpXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnRVJSIEhBTkRMRVIhJywgZXJyb3JzLmxlbmd0aCwgdGhpcy5fRlAuZXJyb3JzLmxpbWl0KVxuICAgICAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiB0aGlzLl9GUC5lcnJvcnMubGltaXQpIHtcbiAgICAgICAgICAgICAgY29uc3QgZnBFcnIgPSBlcnJvcnMubGVuZ3RoID09PSAxID8gZXJyIDogbmV3IEZ1bmN0aW9uYWxFcnJvcihgRXJyb3IgTGltaXQgJHt0aGlzLl9GUC5lcnJvcnMubGltaXR9IEV4Y2VlZGVkLlxuICAgICAgICAgICAgICBpZHg9JHtjfSBlcnJDbnQ9JHt0aGlzLl9GUC5lcnJvcnMuY291bnR9YCwgeyBlcnJvcnMsIHJlc3VsdHMsIGN0eDogdGhpcyB9KVxuICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoc2V0UmVzdWx0KGMpKGVycikpLnRoZW4oKCkgPT4gcmVqZWN0SXQoZnBFcnIpKVxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gY29uc29sZS53YXJuKCdFcnJvciBPSzonLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9GUC5lcnJvcnMpKVxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBzZXRSZXN1bHQoYykoZXJyKSkudGhlbihjaGVja0FuZFJ1bilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiByZXN1bHRzW2NdXG4gICAgICB9XG5cbiAgICAgIC8vIEtpY2sgb2ZmIHggbnVtYmVyIG9mIGluaXRpYWwgdGhyZWFkc1xuICAgICAgd2hpbGUgKGluaXRpYWxUaHJlYWQgPCB0aHJlYWRMaW1pdCAmJiBpbml0aWFsVGhyZWFkIDwgYXJncy5sZW5ndGgpIHJ1bkl0ZW0oaW5pdGlhbFRocmVhZCsrKVxuICAgIH0pXG4gIH0pKVxufVxuIl19

/***/ }),
/* 6 */
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

const { FPInputError } = __webpack_require__(/*! ./modules/errors */ 1);

module.exports = {
  listen(obj, ...eventNames) {
    if (typeof eventNames === 'string') eventNames = [eventNames];
    if (!obj[obj.addEventListener ? 'addEventListener' : 'on']) throw new FPInputError('Valid EventEmitter required.');
    // Gets callback to attach to the event handlers
    const handler = this.chainEnd();
    this._FP.destroy = () => this._FP.destroyHandles.map(fn => fn() || true).filter(v => v).length;
    this._FP.destroyHandles = eventNames.map(eventName => {
      obj[obj.addEventListener ? 'addEventListener' : 'on'](eventName, handler);
      return () => obj[obj.removeEventListener ? 'removeEventListener' : 'off'](eventName, handler);
    });
    return this;
  } };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ldmVudHMuanMiXSwibmFtZXMiOlsiRlBJbnB1dEVycm9yIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJsaXN0ZW4iLCJvYmoiLCJldmVudE5hbWVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZXIiLCJjaGFpbkVuZCIsIl9GUCIsImRlc3Ryb3kiLCJkZXN0cm95SGFuZGxlcyIsIm1hcCIsImZuIiwiZmlsdGVyIiwidiIsImxlbmd0aCIsImV2ZW50TmFtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sRUFBQ0EsWUFBRCxLQUFpQkMsUUFBUSxrQkFBUixDQUF2Qjs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxTQUFPQyxHQUFQLEVBQVksR0FBR0MsVUFBZixFQUEyQjtBQUN6QixRQUFJLE9BQU9BLFVBQVAsS0FBc0IsUUFBMUIsRUFBb0NBLGFBQWEsQ0FBQ0EsVUFBRCxDQUFiO0FBQ3BDLFFBQUksQ0FBQ0QsSUFBSUEsSUFBSUUsZ0JBQUosR0FBdUIsa0JBQXZCLEdBQTRDLElBQWhELENBQUwsRUFBNEQsTUFBTSxJQUFJUCxZQUFKLENBQWlCLDhCQUFqQixDQUFOO0FBQzVEO0FBQ0EsVUFBTVEsVUFBVSxLQUFLQyxRQUFMLEVBQWhCO0FBQ0EsU0FBS0MsR0FBTCxDQUFTQyxPQUFULEdBQW1CLE1BQU0sS0FBS0QsR0FBTCxDQUFTRSxjQUFULENBQXdCQyxHQUF4QixDQUE0QkMsTUFBTUEsUUFBUSxJQUExQyxFQUFnREMsTUFBaEQsQ0FBdURDLEtBQUtBLENBQTVELEVBQStEQyxNQUF4RjtBQUNBLFNBQUtQLEdBQUwsQ0FBU0UsY0FBVCxHQUEwQk4sV0FBV08sR0FBWCxDQUFlSyxhQUFhO0FBQ3BEYixVQUFJQSxJQUFJRSxnQkFBSixHQUF1QixrQkFBdkIsR0FBNEMsSUFBaEQsRUFBc0RXLFNBQXRELEVBQWlFVixPQUFqRTtBQUNBLGFBQU8sTUFBTUgsSUFBSUEsSUFBSWMsbUJBQUosR0FBMEIscUJBQTFCLEdBQWtELEtBQXRELEVBQTZERCxTQUE3RCxFQUF3RVYsT0FBeEUsQ0FBYjtBQUNELEtBSHlCLENBQTFCO0FBSUEsV0FBTyxJQUFQO0FBQ0QsR0FaYyxFQUFqQiIsImZpbGUiOiJldmVudHMuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2RsZXZ5L2NvZGUvb3NzL2Z1bmN0aW9uYWwtcml2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7RlBJbnB1dEVycm9yfSA9IHJlcXVpcmUoJy4vbW9kdWxlcy9lcnJvcnMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbGlzdGVuKG9iaiwgLi4uZXZlbnROYW1lcykge1xuICAgIGlmICh0eXBlb2YgZXZlbnROYW1lcyA9PT0gJ3N0cmluZycpIGV2ZW50TmFtZXMgPSBbZXZlbnROYW1lc11cbiAgICBpZiAoIW9ialtvYmouYWRkRXZlbnRMaXN0ZW5lciA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdvbiddKSB0aHJvdyBuZXcgRlBJbnB1dEVycm9yKCdWYWxpZCBFdmVudEVtaXR0ZXIgcmVxdWlyZWQuJylcbiAgICAvLyBHZXRzIGNhbGxiYWNrIHRvIGF0dGFjaCB0byB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5jaGFpbkVuZCgpXG4gICAgdGhpcy5fRlAuZGVzdHJveSA9ICgpID0+IHRoaXMuX0ZQLmRlc3Ryb3lIYW5kbGVzLm1hcChmbiA9PiBmbigpIHx8IHRydWUpLmZpbHRlcih2ID0+IHYpLmxlbmd0aFxuICAgIHRoaXMuX0ZQLmRlc3Ryb3lIYW5kbGVzID0gZXZlbnROYW1lcy5tYXAoZXZlbnROYW1lID0+IHtcbiAgICAgIG9ialtvYmouYWRkRXZlbnRMaXN0ZW5lciA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdvbiddKGV2ZW50TmFtZSwgaGFuZGxlcilcbiAgICAgIHJldHVybiAoKSA9PiBvYmpbb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyAncmVtb3ZlRXZlbnRMaXN0ZW5lcicgOiAnb2ZmJ10oZXZlbnROYW1lLCBoYW5kbGVyKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcbn0iXX0=

/***/ }),
/* 7 */
/*!****************************!*\
  !*** ./src/conditional.js ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

const { isPromiseLike } = __webpack_require__(/*! ./modules/utils */ 2);

module.exports = { thenIf, tapIf, _thenIf };

function thenIf(cond, ifTrue, ifFalse) {
  if (this.steps) return this.addStep('thenIf', [...arguments]);
  if (arguments.length === 1) {
    ifTrue = cond;
    cond = x => x;
  }
  if (isPromiseLike(this)) {
    return this.then(value => _thenIf(cond, ifTrue, ifFalse)(value));
  }
  return _thenIf(cond, ifTrue, ifFalse);
}

function tapIf(cond, ifTrue, ifFalse) {
  if (this.steps) return this.addStep('tapIf', [...arguments]);
  if (arguments.length === 1) {
    ifTrue = cond;
    cond = x => x;
  }
  if (isPromiseLike(this)) {
    return this.then(value => _thenIf(cond, ifTrue, ifFalse, true)(value));
  }
  return _thenIf(cond, ifTrue, ifFalse, true);
}

function _thenIf(cond = x => x, ifTrue = x => x, ifFalse = () => null, returnValue = false) {
  const FP = __webpack_require__(/*! ./index */ 0);
  return value =>
  FP.resolve(cond(value)).
  then(ans => ans ? ifTrue(value) : ifFalse(value)).
  then(v => returnValue ? value : v);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9jb25kaXRpb25hbC5qcyJdLCJuYW1lcyI6WyJpc1Byb21pc2VMaWtlIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJ0aGVuSWYiLCJ0YXBJZiIsIl90aGVuSWYiLCJjb25kIiwiaWZUcnVlIiwiaWZGYWxzZSIsInN0ZXBzIiwiYWRkU3RlcCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIngiLCJ0aGVuIiwidmFsdWUiLCJyZXR1cm5WYWx1ZSIsIkZQIiwicmVzb2x2ZSIsImFucyIsInYiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sRUFBQ0EsYUFBRCxLQUFrQkMsUUFBUSxpQkFBUixDQUF4Qjs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQixFQUFDQyxNQUFELEVBQVNDLEtBQVQsRUFBZ0JDLE9BQWhCLEVBQWpCOztBQUVBLFNBQVNGLE1BQVQsQ0FBZ0JHLElBQWhCLEVBQXNCQyxNQUF0QixFQUE4QkMsT0FBOUIsRUFBdUM7QUFDckMsTUFBSSxLQUFLQyxLQUFULEVBQWdCLE9BQU8sS0FBS0MsT0FBTCxDQUFhLFFBQWIsRUFBdUIsQ0FBQyxHQUFHQyxTQUFKLENBQXZCLENBQVA7QUFDaEIsTUFBSUEsVUFBVUMsTUFBVixLQUFxQixDQUF6QixFQUE0QjtBQUMxQkwsYUFBU0QsSUFBVDtBQUNBQSxXQUFPTyxLQUFLQSxDQUFaO0FBQ0Q7QUFDRCxNQUFJZCxjQUFjLElBQWQsQ0FBSixFQUF5QjtBQUN2QixXQUFPLEtBQUtlLElBQUwsQ0FBVUMsU0FBU1YsUUFBUUMsSUFBUixFQUFjQyxNQUFkLEVBQXNCQyxPQUF0QixFQUErQk8sS0FBL0IsQ0FBbkIsQ0FBUDtBQUNEO0FBQ0QsU0FBT1YsUUFBUUMsSUFBUixFQUFjQyxNQUFkLEVBQXNCQyxPQUF0QixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0osS0FBVCxDQUFlRSxJQUFmLEVBQXFCQyxNQUFyQixFQUE2QkMsT0FBN0IsRUFBc0M7QUFDcEMsTUFBSSxLQUFLQyxLQUFULEVBQWdCLE9BQU8sS0FBS0MsT0FBTCxDQUFhLE9BQWIsRUFBc0IsQ0FBQyxHQUFHQyxTQUFKLENBQXRCLENBQVA7QUFDaEIsTUFBSUEsVUFBVUMsTUFBVixLQUFxQixDQUF6QixFQUE0QjtBQUMxQkwsYUFBU0QsSUFBVDtBQUNBQSxXQUFPTyxLQUFLQSxDQUFaO0FBQ0Q7QUFDRCxNQUFJZCxjQUFjLElBQWQsQ0FBSixFQUF5QjtBQUN2QixXQUFPLEtBQUtlLElBQUwsQ0FBVUMsU0FBU1YsUUFBUUMsSUFBUixFQUFjQyxNQUFkLEVBQXNCQyxPQUF0QixFQUErQixJQUEvQixFQUFxQ08sS0FBckMsQ0FBbkIsQ0FBUDtBQUNEO0FBQ0QsU0FBT1YsUUFBUUMsSUFBUixFQUFjQyxNQUFkLEVBQXNCQyxPQUF0QixFQUErQixJQUEvQixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0gsT0FBVCxDQUFpQkMsT0FBT08sS0FBS0EsQ0FBN0IsRUFBZ0NOLFNBQVNNLEtBQUtBLENBQTlDLEVBQWlETCxVQUFVLE1BQU0sSUFBakUsRUFBdUVRLGNBQWMsS0FBckYsRUFBNEY7QUFDMUYsUUFBTUMsS0FBS2pCLFFBQVEsU0FBUixDQUFYO0FBQ0EsU0FBT2U7QUFDTEUsS0FBR0MsT0FBSCxDQUFXWixLQUFLUyxLQUFMLENBQVg7QUFDR0QsTUFESCxDQUNRSyxPQUFRQSxNQUFNWixPQUFPUSxLQUFQLENBQU4sR0FBc0JQLFFBQVFPLEtBQVIsQ0FEdEM7QUFFR0QsTUFGSCxDQUVRTSxLQUFNSixjQUFjRCxLQUFkLEdBQXNCSyxDQUZwQyxDQURGO0FBSUQiLCJmaWxlIjoiY29uZGl0aW9uYWwuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2RsZXZ5L2NvZGUvb3NzL2Z1bmN0aW9uYWwtcml2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7aXNQcm9taXNlTGlrZX0gPSByZXF1aXJlKCcuL21vZHVsZXMvdXRpbHMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHt0aGVuSWYsIHRhcElmLCBfdGhlbklmfVxuXG5mdW5jdGlvbiB0aGVuSWYoY29uZCwgaWZUcnVlLCBpZkZhbHNlKSB7XG4gIGlmICh0aGlzLnN0ZXBzKSByZXR1cm4gdGhpcy5hZGRTdGVwKCd0aGVuSWYnLCBbLi4uYXJndW1lbnRzXSlcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICBpZlRydWUgPSBjb25kXG4gICAgY29uZCA9IHggPT4geFxuICB9XG4gIGlmIChpc1Byb21pc2VMaWtlKHRoaXMpKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbih2YWx1ZSA9PiBfdGhlbklmKGNvbmQsIGlmVHJ1ZSwgaWZGYWxzZSkodmFsdWUpKVxuICB9XG4gIHJldHVybiBfdGhlbklmKGNvbmQsIGlmVHJ1ZSwgaWZGYWxzZSlcbn1cblxuZnVuY3Rpb24gdGFwSWYoY29uZCwgaWZUcnVlLCBpZkZhbHNlKSB7XG4gIGlmICh0aGlzLnN0ZXBzKSByZXR1cm4gdGhpcy5hZGRTdGVwKCd0YXBJZicsIFsuLi5hcmd1bWVudHNdKVxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIGlmVHJ1ZSA9IGNvbmRcbiAgICBjb25kID0geCA9PiB4XG4gIH1cbiAgaWYgKGlzUHJvbWlzZUxpa2UodGhpcykpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZhbHVlID0+IF90aGVuSWYoY29uZCwgaWZUcnVlLCBpZkZhbHNlLCB0cnVlKSh2YWx1ZSkpXG4gIH1cbiAgcmV0dXJuIF90aGVuSWYoY29uZCwgaWZUcnVlLCBpZkZhbHNlLCB0cnVlKVxufVxuXG5mdW5jdGlvbiBfdGhlbklmKGNvbmQgPSB4ID0+IHgsIGlmVHJ1ZSA9IHggPT4geCwgaWZGYWxzZSA9ICgpID0+IG51bGwsIHJldHVyblZhbHVlID0gZmFsc2UpIHtcbiAgY29uc3QgRlAgPSByZXF1aXJlKCcuL2luZGV4JylcbiAgcmV0dXJuIHZhbHVlID0+XG4gICAgRlAucmVzb2x2ZShjb25kKHZhbHVlKSlcbiAgICAgIC50aGVuKGFucyA9PiAoYW5zID8gaWZUcnVlKHZhbHVlKSA6IGlmRmFsc2UodmFsdWUpKSlcbiAgICAgIC50aGVuKHYgPT4gKHJldHVyblZhbHVlID8gdmFsdWUgOiB2KSlcbn1cbiJdfQ==

/***/ }),
/* 8 */
/*!************************!*\
  !*** ./src/promise.js ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

const { FPInputError } = __webpack_require__(/*! ./modules/errors */ 1);

module.exports = { all, reject, delay, _delay };

function all(promises) {
  const FP = __webpack_require__(/*! ./ */ 0);
  return FP.resolve(Array.isArray(promises) ? Promise.all(promises) : promiseAllObject(promises));
}

function promiseAllObject(obj) {
  const keys = Object.getOwnPropertyNames(obj);
  const values = keys.map(key => obj[key]);
  return Promise.all(values).then(results => results.reduce((obj, val, index) => {var _Object$assign;
    const key = keys[index];
    return Object.assign((_Object$assign = {}, _Object$assign[key] = val, _Object$assign), obj);
  }, {}));
}

function reject(err) {
  if (err instanceof Error) {
    if (this) this._error = err;
    return Promise.reject(err);
  }
  throw new Error(`Reject only accepts a new instance of Error!`);
}

function _delay(msec) {
  const FP = __webpack_require__(/*! ./ */ 0);
  if (!Number.isInteger(msec)) throw new FPInputError('FP.delay(millisec) requires a numeric arg.');
  return value => new FP(resolve => {setTimeout(() => resolve(value), msec);});
}

function delay(msec) {
  const FP = __webpack_require__(/*! ./ */ 0);
  if (this.steps) return this.addStep('delay', [...arguments]);
  return this && this._FP ? FP.resolve(this.then(_delay(msec))) : _delay(msec)();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wcm9taXNlLmpzIl0sIm5hbWVzIjpbIkZQSW5wdXRFcnJvciIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiYWxsIiwicmVqZWN0IiwiZGVsYXkiLCJfZGVsYXkiLCJwcm9taXNlcyIsIkZQIiwicmVzb2x2ZSIsIkFycmF5IiwiaXNBcnJheSIsIlByb21pc2UiLCJwcm9taXNlQWxsT2JqZWN0Iiwib2JqIiwia2V5cyIsIk9iamVjdCIsImdldE93blByb3BlcnR5TmFtZXMiLCJ2YWx1ZXMiLCJtYXAiLCJrZXkiLCJ0aGVuIiwicmVzdWx0cyIsInJlZHVjZSIsInZhbCIsImluZGV4IiwiYXNzaWduIiwiZXJyIiwiRXJyb3IiLCJfZXJyb3IiLCJtc2VjIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwidmFsdWUiLCJzZXRUaW1lb3V0Iiwic3RlcHMiLCJhZGRTdGVwIiwiYXJndW1lbnRzIiwiX0ZQIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLEVBQUVBLFlBQUYsS0FBbUJDLFFBQVEsa0JBQVIsQ0FBekI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUIsRUFBRUMsR0FBRixFQUFPQyxNQUFQLEVBQWVDLEtBQWYsRUFBc0JDLE1BQXRCLEVBQWpCOztBQUVBLFNBQVNILEdBQVQsQ0FBYUksUUFBYixFQUF1QjtBQUNyQixRQUFNQyxLQUFLUixRQUFRLElBQVIsQ0FBWDtBQUNBLFNBQU9RLEdBQUdDLE9BQUgsQ0FBV0MsTUFBTUMsT0FBTixDQUFjSixRQUFkLElBQTBCSyxRQUFRVCxHQUFSLENBQVlJLFFBQVosQ0FBMUIsR0FBa0RNLGlCQUFpQk4sUUFBakIsQ0FBN0QsQ0FBUDtBQUNEOztBQUVELFNBQVNNLGdCQUFULENBQTBCQyxHQUExQixFQUErQjtBQUM3QixRQUFNQyxPQUFPQyxPQUFPQyxtQkFBUCxDQUEyQkgsR0FBM0IsQ0FBYjtBQUNBLFFBQU1JLFNBQVNILEtBQUtJLEdBQUwsQ0FBU0MsT0FBT04sSUFBSU0sR0FBSixDQUFoQixDQUFmO0FBQ0EsU0FBT1IsUUFBUVQsR0FBUixDQUFZZSxNQUFaLEVBQW9CRyxJQUFwQixDQUF5QkMsV0FBV0EsUUFBUUMsTUFBUixDQUFlLENBQUNULEdBQUQsRUFBTVUsR0FBTixFQUFXQyxLQUFYLEtBQXFCO0FBQzdFLFVBQU1MLE1BQU1MLEtBQUtVLEtBQUwsQ0FBWjtBQUNBLFdBQU9ULE9BQU9VLE1BQVAsc0NBQWlCTixHQUFqQixJQUF1QkksR0FBdkIsbUJBQThCVixHQUE5QixDQUFQO0FBQ0QsR0FIMEMsRUFHeEMsRUFId0MsQ0FBcEMsQ0FBUDtBQUlEOztBQUVELFNBQVNWLE1BQVQsQ0FBZ0J1QixHQUFoQixFQUFxQjtBQUNuQixNQUFJQSxlQUFlQyxLQUFuQixFQUEwQjtBQUN4QixRQUFJLElBQUosRUFBVSxLQUFLQyxNQUFMLEdBQWNGLEdBQWQ7QUFDVixXQUFPZixRQUFRUixNQUFSLENBQWV1QixHQUFmLENBQVA7QUFDRDtBQUNELFFBQU0sSUFBSUMsS0FBSixDQUFXLDhDQUFYLENBQU47QUFDRDs7QUFFRCxTQUFTdEIsTUFBVCxDQUFnQndCLElBQWhCLEVBQXNCO0FBQ3BCLFFBQU10QixLQUFLUixRQUFRLElBQVIsQ0FBWDtBQUNBLE1BQUksQ0FBQytCLE9BQU9DLFNBQVAsQ0FBaUJGLElBQWpCLENBQUwsRUFBNkIsTUFBTSxJQUFJL0IsWUFBSixDQUFpQiw0Q0FBakIsQ0FBTjtBQUM3QixTQUFPa0MsU0FBUyxJQUFJekIsRUFBSixDQUFPQyxXQUFXLENBQUV5QixXQUFXLE1BQU16QixRQUFRd0IsS0FBUixDQUFqQixFQUFpQ0gsSUFBakMsRUFBd0MsQ0FBNUQsQ0FBaEI7QUFDRDs7QUFFRCxTQUFTekIsS0FBVCxDQUFleUIsSUFBZixFQUFxQjtBQUNuQixRQUFNdEIsS0FBS1IsUUFBUSxJQUFSLENBQVg7QUFDQSxNQUFJLEtBQUttQyxLQUFULEVBQWdCLE9BQU8sS0FBS0MsT0FBTCxDQUFhLE9BQWIsRUFBc0IsQ0FBQyxHQUFHQyxTQUFKLENBQXRCLENBQVA7QUFDaEIsU0FBTyxRQUFRLEtBQUtDLEdBQWIsR0FBbUI5QixHQUFHQyxPQUFILENBQVcsS0FBS1ksSUFBTCxDQUFVZixPQUFPd0IsSUFBUCxDQUFWLENBQVgsQ0FBbkIsR0FBeUR4QixPQUFPd0IsSUFBUCxHQUFoRTtBQUNEIiwiZmlsZSI6InByb21pc2UuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2RsZXZ5L2NvZGUvb3NzL2Z1bmN0aW9uYWwtcml2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IEZQSW5wdXRFcnJvciB9ID0gcmVxdWlyZSgnLi9tb2R1bGVzL2Vycm9ycycpXG5cbm1vZHVsZS5leHBvcnRzID0geyBhbGwsIHJlamVjdCwgZGVsYXksIF9kZWxheSB9XG5cbmZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICBjb25zdCBGUCA9IHJlcXVpcmUoJy4vJylcbiAgcmV0dXJuIEZQLnJlc29sdmUoQXJyYXkuaXNBcnJheShwcm9taXNlcykgPyBQcm9taXNlLmFsbChwcm9taXNlcykgOiBwcm9taXNlQWxsT2JqZWN0KHByb21pc2VzKSlcbn1cblxuZnVuY3Rpb24gcHJvbWlzZUFsbE9iamVjdChvYmopIHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iailcbiAgY29uc3QgdmFsdWVzID0ga2V5cy5tYXAoa2V5ID0+IG9ialtrZXldKVxuICByZXR1cm4gUHJvbWlzZS5hbGwodmFsdWVzKS50aGVuKHJlc3VsdHMgPT4gcmVzdWx0cy5yZWR1Y2UoKG9iaiwgdmFsLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaW5kZXhdXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBba2V5XTogdmFsIH0sIG9iailcbiAgfSwge30pKVxufVxuXG5mdW5jdGlvbiByZWplY3QoZXJyKSB7XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIGlmICh0aGlzKSB0aGlzLl9lcnJvciA9IGVyclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpXG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBSZWplY3Qgb25seSBhY2NlcHRzIGEgbmV3IGluc3RhbmNlIG9mIEVycm9yIWApXG59XG5cbmZ1bmN0aW9uIF9kZWxheShtc2VjKSB7XG4gIGNvbnN0IEZQID0gcmVxdWlyZSgnLi8nKVxuICBpZiAoIU51bWJlci5pc0ludGVnZXIobXNlYykpIHRocm93IG5ldyBGUElucHV0RXJyb3IoJ0ZQLmRlbGF5KG1pbGxpc2VjKSByZXF1aXJlcyBhIG51bWVyaWMgYXJnLicpXG4gIHJldHVybiB2YWx1ZSA9PiBuZXcgRlAocmVzb2x2ZSA9PiB7IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSh2YWx1ZSksIG1zZWMpIH0pXG59XG5cbmZ1bmN0aW9uIGRlbGF5KG1zZWMpIHtcbiAgY29uc3QgRlAgPSByZXF1aXJlKCcuLycpXG4gIGlmICh0aGlzLnN0ZXBzKSByZXR1cm4gdGhpcy5hZGRTdGVwKCdkZWxheScsIFsuLi5hcmd1bWVudHNdKVxuICByZXR1cm4gdGhpcyAmJiB0aGlzLl9GUCA/IEZQLnJlc29sdmUodGhpcy50aGVuKF9kZWxheShtc2VjKSkpIDogX2RlbGF5KG1zZWMpKClcbn1cbiJdfQ==

/***/ })
/******/ ]);