!function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){(function(n){function e(t){if(!(this instanceof e))return new e(t);if((arguments.length<=1?0:arguments.length-1)>0)throw new Error("FunctionalPromise only accepts 1 argument");this._FP={concurrencyLimit:4,hardErrorLimit:-1,promise:new Promise(t)}}function o(t){if(this.steps)return this.addStep("then",[].concat(Array.prototype.slice.call(arguments)));if(!l(t))throw new y("Invalid fn argument for `.then(fn)`. Must be a function. Currently: "+(void 0===t?"undefined":a(t)));return this._FP.promise.then(t)}function i(t){if(this.steps)return this.addStep("tap",[].concat(Array.prototype.slice.call(arguments)));if(!l(t))throw new y("Invalid fn argument for `.tap(fn)`. Must be a function. Currently: "+(void 0===t?"undefined":a(t)));return this._FP.promise.then(function(n){return t(n),n})}function u(t){return new U(function(n,r){if(t&&l(t.then))return t.then(n).catch(r);n(t)})}function c(t){var n=this;return function(){for(var r=arguments.length,e=Array(r),o=0;o<r;o++)e[o]=arguments[o];return new U(function(r,o){return t.call.apply(t,[n].concat(e,[function(t,n){return t?o(t):r(n)}]))})}}function f(t){if(!t||!Object.getPrototypeOf(t))throw new Error("Invalid Argument obj in promisifyAll(obj)");return Object.getOwnPropertyNames(t).filter(function(n){return"function"==typeof t[n]}).reduce(function(t,n){return/Sync/.test(n)||t[n+"Async"]||(t[n+"Async"]=c(t[""+n])),t},t)}function s(){var t=void 0,n=void 0,r=void 0;return r=new Promise(function(r,e){t=r,n=e}),{promise:r,resolve:t,reject:n}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=r(/*! lodash/isFunction */3),p=r(/*! ./modules/errors */1),y=p.FunctionalError,h=r(/*! ./events */15),d=h.listen,m=r(/*! ./monads */16),v=m.chain,b=m.chainEnd,g=r(/*! ./arrays */2),w=g.map,P=g.filter,S=r(/*! ./arrays */2),_=S.reduce,j=r(/*! ./arrays */2),E=j.find,A=j.findIndex,x=r(/*! ./promise */5),O=x.all,F=x.cast,I=r(/*! ./promise */5),T=I.reject,L=I.delay,R=r(/*! ./conditional */6),M=R.thenIf,k=R._thenIf,N=r(/*! ./conditional */6),C=N.tapIf,U=e;U.denodeify=U.promisify=c,U.promisifyAll=f,U.resolve=u,U.prototype.all=U.all=O,U.prototype.cast=F,U.prototype.reject=T,U.prototype.tap=i,U.prototype.then=o,U.prototype.delay=L,U.delay=L,U.chain=v,U.prototype.chainEnd=b,U.prototype.map=w,U.prototype.find=E,U.prototype.filter=P,U.prototype.reduce=_,U.prototype.findIndex=A,U.prototype.tapIf=C,U.prototype.thenIf=M,U.prototype._thenIf=k,U.thenIf=k,U.prototype.listen=d,U.unpack=s,U.prototype.addStep=function(t,n){return this.steps&&this.steps.push([t,this,n]),this},U.prototype.concurrency=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return this.steps?this.addStep("concurrency",[].concat(Array.prototype.slice.call(arguments))):(this._FP.concurrencyLimit=t,this)},U.prototype.serial=function(){return this.steps?this.addStep("serial",[].concat(Array.prototype.slice.call(arguments))):this.concurrency(1)},U.prototype.get=function(t){return this.steps?this.addStep("get",[].concat(Array.prototype.slice.call(arguments))):this.then(function(n){return"object"===(void 0===n?"undefined":a(n))?n[t]:n})},U.prototype.set=function(t,n){return this.steps?this.addStep("set",[].concat(Array.prototype.slice.call(arguments))):this.then(function(r){return"object"===(void 0===r?"undefined":a(r))&&(r[t]=n),r})},U.prototype.catch=function(t){if(this.steps)return this.addStep("catch",[].concat(Array.prototype.slice.call(arguments)));if(this._FP.error){var n=t(this._FP.error);return this._FP.error=void 0,n}return U.resolve(this._FP.value)},t.exports=e,n&&n.on&&(n.on("uncaughtException",function(t){console.error("Process: FATAL EXCEPTION: uncaughtException",t,"\n\n")}),n.on("unhandledRejection",function(t){console.error("Process: FATAL PROMISE ERROR: unhandledRejection",t,"\n\n")}))}).call(n,r(/*! ./../node_modules/process/browser.js */7))},/*!*******************************!*\
  !*** ./src/modules/errors.js ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t){function n(t,o){r(this,n),"object"===(void 0===t?"undefined":i(t))&&(o=t,t.message&&(t=t.message));var u=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return"object"===(void 0===o?"undefined":i(o))&&Object.assign(u,o),u.name=u.constructor.name,Error.captureStackTrace(u,u.constructor),u}return o(n,t),n}(Error),c=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u),f=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u),s=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u),a=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u),l=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u);t.exports={FunctionalError:u,FunctionalUserError:c,FPUnexpectedError:f,FPInputError:s,FPSoftError:a,FPTimeout:l}},/*!***********************!*\
  !*** ./src/arrays.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)}function o(t){return u.call(this,t).then(function(t){return t.item})}function i(t){return u.call(this,t).then(function(t){return t.index})}function u(t,n){var e=r(/*! ./index */0);return this.steps?this.addStep("_find",[].concat(Array.prototype.slice.call(arguments))):("function"==typeof t&&(n=t,t=this._FP.promise),e.resolve(t).filter(n).then(function(t){return t&&t[0]?{item:t[0],index:t.indexOf(t[0])}:{item:void 0,index:-1}}))}function c(t,n){return this.steps?this.addStep("filter",[].concat(Array.prototype.slice.call(arguments))):("function"==typeof t&&(n=t,t=this._FP.promise),f(t,function(t,r){return Promise.resolve(n(r)).then(function(n){return n?t.concat([r]):t})},[]))}function f(t,n,e){var o=r(/*! ./index */0);return this.steps?this.addStep("reduce",[].concat(Array.prototype.slice.call(arguments))):("function"==typeof t?(e=n,n=t,t=this._FP?this._FP.promise:this):t=o.resolve(t,this),new o(function(r,o){return t.then(function(t){var i=t[Symbol.iterator](),u=0;!function t(e){var c=i.next();if(c.done)return r(e);Promise.all([e,c.value]).then(function(r){var e=a(r,2),o=e[0],i=e[1];return t(n(o,i,u++))}).catch(o)}(e)})}))}function s(t,n,o){var i=r(/*! ./index */0);if(this.steps)return this.addStep("map",[].concat(Array.prototype.slice.call(arguments)));1===arguments.length&&this&&this._FP&&(n=t,t=this&&this._FP&&this._FP.promise);var u=Math.max(1,Math.min(this&&this._FP&&this._FP.concurrencyLimit||1,4)),c=this&&this._FP&&this._FP.promise?this._FP.promise:Promise.resolve(t),f=0,s=[],a=0,p=[],h=new Set,d=function(){return h.size>=u},m=function(){return s.length>=0||a>=t.length},v=function(t){return function(n){return p[t]=n,n}};return new i(function(r,o){c.then(function(i){if(t=[].concat(e(i)),!l(i))return o(new y("Invalid input data passed into FP.map()"));for(var c=function(){if(s.length>=1)o(s[0]);else if(!m())return Promise.all(p).then(r),!0;return!1};f<u&&f<t.length;)!function e(o){if(d())return setTimeout(function(){return e(o)},0);if(a>=t.length)return Promise.all(p).then(r);var i=[t[o],o];return h.add(o),p[o]=Promise.resolve(t[o]).then(function(r){return n(r,o,t)}).then(function(t){return h.delete(o),v(o)(t)}).then(function(t){return c()||e(++a),t}).catch(function(t){return s.push(t)}),i}(f++)})})}var a=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(e=(u=c.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&c.return&&c.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=r(/*! lodash/isArrayLike */17),p=r(/*! ./modules/errors */1),y=p.FPInputError;t.exports={map:s,find:o,findIndex:i,filter:c,reduce:f}},/*!*******************************************!*\
  !*** ./node_modules/lodash/isFunction.js ***!
  \*******************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){if(!i(t))return!1;var n=o(t);return n==c||n==f||n==u||n==s}var o=r(/*! ./_baseGetTag */8),i=r(/*! ./isObject */14),u="[object AsyncFunction]",c="[object Function]",f="[object GeneratorFunction]",s="[object Proxy]";t.exports=e},/*!****************************************!*\
  !*** ./node_modules/lodash/_Symbol.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){var e=r(/*! ./_root */9),o=e.Symbol;t.exports=o},/*!************************!*\
  !*** ./src/promise.js ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){/*! ./ */
return r(0).resolve(Array.isArray(t)?Promise.all(t):o(t))}function o(t){var n=Object.getOwnPropertyNames(t),r=n.map(function(n){return t[n]});return Promise.all(r).then(function(t){return t.reduce(function(t,r,e){var o,i=n[e];return Object.assign((o={},o[i]=r,o),t)},{})})}function i(t){return Promise.resolve(t)}function u(t){if(t instanceof Error)return this&&(this._error=t),Promise.reject(t);throw new Error("Reject only accepts a new instance of Error!")}function c(t,n){var e=r(/*! ./ */0);if(1===arguments.length&&(n=t,t=this||null),!Number.isInteger(n))throw new s("fp.delay([promise,] millisec) requires a numeric arg.");return new e(function(r){setTimeout(function(){return r(t)},n)})}var f=r(/*! ./modules/errors */1),s=f.FPInputError;t.exports={all:e,cast:i,reject:u,delay:c}},/*!****************************!*\
  !*** ./src/conditional.js ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t,n,r){return this.steps?this.addStep("thenIf",[].concat(Array.prototype.slice.call(arguments))):(1===arguments.length&&(n=t,t=function(t){return t}),c(this)?this.then(function(e){return i(t,n,r)(e)}):i(t,n,r))}function o(t,n,r){return this.steps?this.addStep("tapIf",[].concat(Array.prototype.slice.call(arguments))):(1===arguments.length&&(n=t,t=function(t){return t}),c(this)?this.then(function(e){return i(t,n,r,!0)(e)}):i(t,n,r,!0))}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=r(/*! ./index */0);return function(r){return i.resolve(t(r)).then(function(t){return t?n(r):e(r)}).then(function(t){return o?r:t})}}var u=r(/*! ./modules/utils */19),c=u.isPromiseLike;t.exports={thenIf:e,tapIf:o,_thenIf:i}},/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function o(t){if(a===setTimeout)return setTimeout(t,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(n){try{return a.call(null,t,0)}catch(n){return a.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&y&&(d=!1,y.length?h=y.concat(h):m=-1,h.length&&c())}function c(){if(!d){var t=o(u);d=!0;for(var n=h.length;n;){for(y=h,h=[];++m<n;)y&&y[m].run();m=-1,n=h.length}y=null,d=!1,i(t)}}function f(t,n){this.fun=t,this.array=n}function s(){}var a,l,p=t.exports={};!function(){try{a="function"==typeof setTimeout?setTimeout:r}catch(t){a=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var y,h=[],d=!1,m=-1;p.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];h.push(new f(t,n)),1!==h.length||d||o(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},/*!********************************************!*\
  !*** ./node_modules/lodash/_baseGetTag.js ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){return null==t?void 0===t?f:c:s&&s in Object(t)?i(t):u(t)}var o=r(/*! ./_Symbol */4),i=r(/*! ./_getRawTag */12),u=r(/*! ./_objectToString */13),c="[object Null]",f="[object Undefined]",s=o?o.toStringTag:void 0;t.exports=e},/*!**************************************!*\
  !*** ./node_modules/lodash/_root.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(/*! ./_freeGlobal */10),i="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,u=o||i||Function("return this")();t.exports=u},/*!********************************************!*\
  !*** ./node_modules/lodash/_freeGlobal.js ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){(function(n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e="object"==(void 0===n?"undefined":r(n))&&n&&n.Object===Object&&n;t.exports=e}).call(n,r(/*! ./../webpack/buildin/global.js */11))},/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){var r,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":e(window))&&(r=window)}t.exports=r},/*!*******************************************!*\
  !*** ./node_modules/lodash/_getRawTag.js ***!
  \*******************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){var n=u.call(t,f),r=t[f];try{t[f]=void 0;var e=!0}catch(t){}var o=c.call(t);return e&&(n?t[f]=r:delete t[f]),o}var o=r(/*! ./_Symbol */4),i=Object.prototype,u=i.hasOwnProperty,c=i.toString,f=o?o.toStringTag:void 0;t.exports=e},/*!************************************************!*\
  !*** ./node_modules/lodash/_objectToString.js ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){function r(t){return o.call(t)}var e=Object.prototype,o=e.toString;t.exports=r},/*!*****************************************!*\
  !*** ./node_modules/lodash/isObject.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){function r(t){var n=void 0===t?"undefined":e(t);return null!=t&&("object"==n||"function"==n)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=r},/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];if("string"==typeof r&&(r=[r]),!t[t.addEventListener?"addEventListener":"on"])throw new i("Input object isn't a valid EventEmitter or similar.");var o=this.chainEnd();return this.cleanupHandles=r.map(function(n){return t[t.addEventListener?"addEventListener":"on"](n,o),function(){return t[t.removeEventListener?"removeEventListener":"off"](n,o)}}),this}var o=r(/*! ./modules/errors */1),i=o.FPInputError;t.exports={listen:e}},/*!***********************!*\
  !*** ./src/monads.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)}function o(){var t=r(/*! ./index */0),n=t.resolve();return n.steps=[],n}function i(){var t=this,n=r(/*! ./index */0);return function(r){return new n(function(o,i){var c=t.steps[Symbol.iterator]();!function t(n){var r=c.next();if(r.done)return o(n);var i=u(r.value,3),f=i[0],s=i[2];return t(n[f].apply(n,e(s)))}(n.resolve(r))})}}var u=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(e=(u=c.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&c.return&&c.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=r(/*! ./modules/errors */1);c.FPInputError;t.exports={chain:o,chainEnd:i}},/*!********************************************!*\
  !*** ./node_modules/lodash/isArrayLike.js ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){return null!=t&&i(t.length)&&!o(t)}var o=r(/*! ./isFunction */3),i=r(/*! ./isLength */18);t.exports=e},/*!*****************************************!*\
  !*** ./node_modules/lodash/isLength.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}var e=9007199254740991;t.exports=r},/*!******************************!*\
  !*** ./src/modules/utils.js ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){var r=t.exports={isPromiseLike:function(t){return t&&"function"==typeof t.then},flatten:function(t){if(!Array.isArray(t))throw new Error("Method `flatten` requires valid array parameter");return t.reduce(function(t,n){return n.concat(Array.isArray(t)?r.flatten(t):[t])},[])}}}]);